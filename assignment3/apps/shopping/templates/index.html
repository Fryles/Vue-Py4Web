[[extend 'layout.html']]

<style>
  [v-cloak] {
    display: none;
  }
</style>


<div class="section" id="app" v-cloak>
  <!-- Put here your Vue.js template -->
  <h1 class="title">Shopping List</h1>

  <div class="container">
    <table class="table is-fullwidth is-striped">
      <tr class="add-row">
        <td @click="add_item" class="is-narrow"><i
            class="is-size-2 fa-solid fa-plus-square has-text-success add-item"></i></td>
        <td><input class="input add-item" type="text" name="new_item" v-model="new_item_name"></td>
        <td class="is-narrow"></td>
      </tr>
      <tr v-for="i in shopping_items" class="item-row">
        <td class="check is-narrow"><input v-model="i.checked" type="checkbox" @click.once="purchase_item(i)"></td>
        <td class="item">{{i.item_name}}</td>
        <td @click.once="delete_item(i)" class="trash is-narrow"><i
            class="trash has-text-danger fa-solid fa-trash-can"></i>
        </td>
        </td>
      </tr>
    </table>
  </div>
</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let load_data_url = "[[=XML(load_data_url)]]";
  // Add other URLs here if you wish.
</script>
<script src="js/index.js"></script>
[[end]]